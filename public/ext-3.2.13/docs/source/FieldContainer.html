<!DOCTYPE html><html><head><title>Sencha Documentation Project</title><link rel="stylesheet" href="../reset.css" type="text/css"><link rel="stylesheet" href="../prettify.css" type="text/css"><link rel="stylesheet" href="../prettify_sa.css" type="text/css"><script type="text/javascript" src="../prettify.js"></script></head><body onload="prettyPrint()"><pre class="prettyprint"><pre><a name="cls-Ext.form.FieldContainer"></a>/**
 * @class Ext.form.FieldContainer
 * @extends Ext.container.Container
 * &lt;p&gt;A container which participates in {@link Ext.layout.component.form.Field field layout}.
 * This allows grouping of several components with a {@link #fieldLabel field label} and optional
 * {@link #msgTarget error message}, so that it lines up nicely with other fields in a form. The
 * {@link #items} of the container will be layed out within the field body area according to the
 * configured {@link #layout}.&lt;/p&gt;
 * &lt;p&gt;Like regular fields, FieldContainer can inherit its decoration configuration from the
 * {@link Ext.form.FormPanel#fieldDefaults fieldDefaults} of an enclosing FormPanel. In addition,
 * FieldContainer itself can pass {@link #fieldDefaults} to any {@link Ext.form.Labelable fields}
 * it may itself contain.&lt;/p&gt;
 * &lt;p&gt;Example usage:&lt;/p&gt;
 * <br><span style="display: none">**/</span>Ext.create(&#39;Ext.form.FormPanel&#39;, {
    renderTo: Ext.getBody(),
    title: &#39;FieldContainer Examples&#39;,
    width: 600,
    bodyPadding: 10,

    items: [{
        fieldLabel: &#39;Panels&#39;,
        xtype: &#39;fieldcontainer&#39;,
        layout: &#39;hbox&#39;,
        defaults: {
            height: 50,
            flex: 1
        },
        items: [{
            xtype: &#39;panel&#39;,
            title: &#39;Panel 1&#39;
        }, {
            xtype: &#39;splitter&#39;
        }, {
            xtype: &#39;panel&#39;,
            title: &#39;Panel 2&#39;
        }, {
            xtype: &#39;splitter&#39;
        }, {
            xtype: &#39;panel&#39;,
            title: &#39;Panel 3&#39;
        }]
    }]
});<br><span style="display: none">/**</span>
 * @constructor
 * Creates a new Ext.form.FieldContainer instance.
 * @param {Object} config The component configuration.
 *
 * @xtype fieldcontainer
 */
Ext.define(&#39;Ext.form.FieldContainer&#39;, {
    extend: &#39;Ext.container.Container&#39;,
    mixins: {
        labelable: &#39;Ext.form.Labelable&#39;
    },
    alias: &#39;widget.fieldcontainer&#39;,

    componentLayout: &#39;field&#39;,

    <a name="cfg-Ext.form.FieldContainer-fieldDefaults"></a>/**
     * @cfg {Object} fieldDefaults
     * &lt;p&gt;If specified, the properties in this object are used as default config values for each
     * {@link Ext.form.Labelable} instance (e.g. {@link Ext.form.BaseField} or {@link Ext.form.FieldContainer})
     * that is added as a descendant of this FieldContainer. Corresponding values specified in an individual field&#39;s
     * own configuration, or from the {@link Ext.lib.Container#defaults defaults config} of its parent container,
     * will take precedence. See the documentation for {@link Ext.form.Labelable} to see what config
     * options may be specified in the &lt;tt&gt;fieldDefaults&lt;/tt&gt;.&lt;/p&gt;
     * &lt;p&gt;Example:&lt;/p&gt;
     * <br><span style="display: none">**/</span>new Ext.form.FieldContainer({
    fieldDefaults: {
        labelAlign: &#39;left&#39;,
        labelWidth: 100
    },
    items: [{
        xtype: &#39;fieldset&#39;,
        defaults: {
            labelAlign: &#39;top&#39;
        },
        items: [{
            name: &#39;field1&#39;
        }, {
            name: &#39;field2&#39;
        }]
    }, {
        xtype: &#39;fieldset&#39;,
        items: [{
            name: &#39;field3&#39;,
            labelWidth: 150
        }, {
            name: &#39;field4&#39;
        }]
    }]
});<br><span style="display: none">/**</span>     * &lt;p&gt;In this example, field1 and field2 will get labelAlign:&#39;top&#39; (from the fieldset&#39;s &lt;tt&gt;defaults&lt;/tt&gt;)
     * and labelWidth:100 (from &lt;tt&gt;fieldDefaults&lt;/tt&gt;), field3 and field4 will both get labelAlign:&#39;left&#39; (from
     * &lt;tt&gt;fieldDefaults&lt;/tt&gt; and field3 will use the labelWidth:150 from its own config.&lt;/p&gt;
     */



    initComponent: function() {
        var me = this;

        // Init mixin
        me.initLabelable();

        // Catch addition of descendant fields
        me.on(&#39;add&#39;, me.onSubCmpAdded, me);

        me.callParent();
    },

    /**
     * @private
     * Handle the addition of components to the FieldContainer&#39;s child tree.
     */
    onSubCmpAdded: function(parent, child) {
        var me = this;
        function handleCmp(cmp) {
            var isLabelable = cmp.isFieldLabelable,
                isField = cmp.isFormField;
            if (isLabelable || isField) {
                if (isLabelable) {
                    me.onLabelableAdded(cmp);
                }
                if (isField) {
                    me.onFieldAdded(cmp);
                }
            }
            else if (cmp.isContainer) {
                cmp.items.each(handleCmp);
            }
        }
        handleCmp(child);
    },

    <a name="method-Ext.form.FieldContainer-onLabelableAdded"></a>/**
     * @protected Called when a {@link Ext.form.Labelable} instance is added to the container&#39;s subtree.
     * @param {Ext.form.Labelable} labelable The instance that was added
     */
    onLabelableAdded: function(labelable) {
        labelable.applyFieldDefaults(this.fieldDefaults);
    },

    <a name="method-Ext.form.FieldContainer-onFieldAdded"></a>/**
     * @protected Called when a {@link Ext.form.Field} instance is added to the container&#39;s subtree.
     * @param {Ext.form.Field} field The field which was added
     */
    onFieldAdded: Ext.emptyFn,

    onRender: function() {
        var me = this,
            renderSelectors = me.renderSelectors,
            applyIf = Ext.applyIf;

        applyIf(renderSelectors, me.getLabelableSelectors());

        me.callParent(arguments);
    },

    initRenderTpl: function() {
        var me = this;
        if (!me.hasOwnProperty(&#39;renderTpl&#39;)) {
            me.renderTpl = me.labelableRenderTpl;
        }
        return me.callParent();
    },

    initRenderData: function() {
        return Ext.applyIf(this.callParent(), this.getLabelableRenderData());
    },

    //private
    onDisable: function() {
        this.down(&#39;[isFormField]&#39;).each(function(field) {
            field.disable();
        });
    },

    //private
    onEnable: function() {
        this.down(&#39;[isFormField]&#39;).each(function(field) {
            field.enable();
        });
    },

    getTargetEl: function() {
        return this.bodyEl || this.callParent();
    }

    /*
    TODO merging fieldDefaults objects down doesn&#39;t work due to the order of component addition
    applyFieldDefaults: function(defaults) {
        this.getMixin(&#39;labelable&#39;).applyFieldDefaults.call(this, defaults);

        // merge defaults with our own
        this.fieldDefaults = Ext.apply({}, this.fieldDefaults, defaults);
    }*/

});
ï¿¿</pre></pre></body></html>